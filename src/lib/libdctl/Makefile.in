#
#      Diamond
#      A system for interactive brute-force search
#
#      Copyright (c) 2002-2005, Intel Corporation
#      All Rights Reserved
#
#  This software is distributed under the terms of the Eclipse Public
#  License, Version 1.0 which can be found in the file named LICENSE.
#  ANY USE, REPRODUCTION OR DISTRIBUTION OF THIS SOFTWARE CONSTITUTES
#  RECIPIENT'S ACCEPTANCE OF THIS AGREEMENT
#


ROOTDIR = @top_srcdir@
SRCDIR = @srcdir@
VPATH = @srcdir@
OBJROOT = @OBJROOT@


LIBSRCS = lib_dctl.c dctl_helper.c
LIBOBJS = lib_dctl.o dctl_helper.o

TESTSRCS = test_dctl.c
TESTOBJS = test_dctl.o
TESTPROGS = test_dctl 

SHARED_HEADERS = lib_dctl.h dctl_common.h

SRCS = $(LIBSRCS) $(TESTSRCS)
OBJS = $(LIBOBJS) $(TESTOBJS)

#
# Compilation Targets
#

TARGETS = libdctl.a $(TESTPROGS)

include $(OBJROOT)/Makefile.template

test_dctl: libdctl.a $(TESTOBJS)
	$(CC) $(CFLAGS) -o test_dctl $(TESTOBJS) -L. -ldctl -lpthread
